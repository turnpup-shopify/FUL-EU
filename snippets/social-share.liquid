{% assign permalinkURL = '' %}
{% assign shareTitle = '' %}
{% assign shareImage = '' %}
{% if template contains 'article' %}
  {% capture permalinkURL %}{{ shop.url }}{{ article.url }}{% endcapture %}
  {% capture shareTitle %}{{ article.title }}{% endcapture %}
  {% if article.featured_image %}
    {% capture shareImage %}{{ article.featured_image | img_url: '1200x' }}{% endcapture %}
  {% elsif settings.share_image %}
    {% capture shareImage %}{{ settings.share_image | img_url: '1200x' }}{% endcapture %}
  {% endif %}

{% elsif template contains 'product' %}
  {% capture permalinkURL %}{{ shop.url }}{{ product.url }}{% endcapture %}
  {% capture shareTitle %}{{ product.title }}{% endcapture %}
  {% if product.media.size > 0 %}
    {% capture shareImage %}{{ product.media[0].preview_image | product_img_url: '1200x' }}{% endcapture %}
  {% elsif settings.share_image %}
    {% capture shareImage %}{{ settings.share_image | img_url: '1200x' }}{% endcapture %}
  {% endif %}
{% endif %}

<div id="sharing" class="social-sharing" data-permalink="{{ permalinkURL }}">
  <div class="h5">{{ settings.social_sharing_title }}</div>

  {% if settings.share_facebook %}
    <a
      href="//www.facebook.com/sharer.php?u={{ permalinkURL }}"
      target="_blank"
      rel="noopener"
      aria-label="Share on Facebook"
    >
      <div class="sharing-button">
        <div aria-hidden="true" class="sharing-button__icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/>
          </svg>
        </div>
      </div>
    </a>
    <a
      href="//www.instagram.com/?url={{ permalinkURL }}"
      target="_blank"
      rel="noopener"
      aria-label="Share on Instagram"
    >
      <div class="sharing-button">
        <div aria-hidden="true" class="sharing-button__icon">
          <svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.8053 0.814453H7.46007C3.49864 0.814453 0.287109 4.0259 0.287109 7.98738V18.3328C0.287109 22.2943 3.49864 25.5059 7.46007 25.5059H17.8053C21.7668 25.5059 24.9782 22.2943 24.9782 18.3328V7.98738C24.9782 4.0259 21.7668 0.814453 17.8053 0.814453ZM22.6356 18.621C22.6356 21.1295 20.602 23.1632 18.0934 23.1632H7.17196C4.66343 23.1632 2.62982 21.1295 2.62982 18.621V7.69928C2.62982 5.1907 4.66343 3.15707 7.17196 3.15707H18.0934C20.602 3.15707 22.6356 5.1907 22.6356 7.69928V18.621Z" fill="#00525F"/>
            <path d="M12.6324 6.77783C9.10746 6.77783 6.25 9.63533 6.25 13.1603C6.25 16.6852 9.10746 19.5427 12.6324 19.5427C16.1572 19.5427 19.0147 16.6852 19.0147 13.1603C19.0147 9.63533 16.1572 6.77783 12.6324 6.77783ZM12.6324 17.2429C10.3776 17.2429 8.54981 15.415 8.54981 13.1603C8.54981 10.9055 10.3776 9.07767 12.6324 9.07767C14.8871 9.07767 16.7149 10.9055 16.7149 13.1603C16.7149 15.415 14.8871 17.2429 12.6324 17.2429Z" fill="#00525F"/>
            <path d="M19.143 5.07544C18.3084 5.07544 17.6318 5.75203 17.6318 6.58659C17.6318 7.42115 18.3084 8.09761 19.143 8.09761C19.9775 8.09761 20.6541 7.42115 20.6541 6.58659C20.6541 5.75203 19.9775 5.07544 19.143 5.07544Z" fill="#00525F"/>
          </svg>
        </div>
      </div>
    </a>
    <a
      href="//www.tiktok.com/?url={{ permalinkURL }}"
      target="_blank"
      rel="noopener"
      aria-label="Share on Tiktok"
    >
      <div class="sharing-button">
        <div aria-hidden="true" class="sharing-button__icon">
          <svg width="23" height="26" viewBox="0 0 23 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.2987 4.99458C16.8992 3.65728 16.6256 2.07108 16.5815 1.29305V0.814209H12.3411V10.7607V17.4258V17.704H12.3517C12.3517 19.6767 10.7526 21.2759 8.78002 21.2759C6.80734 21.2759 5.20822 19.6767 5.20822 17.704C5.20822 15.7314 6.80734 14.1323 8.78002 14.1323C9.15859 14.1323 9.5232 14.1914 9.8656 14.3005V9.97738C9.51085 9.92798 9.14845 9.9024 8.78002 9.9024C4.47137 9.9024 0.978516 13.3953 0.978516 17.704C0.978516 22.0127 4.47137 25.5058 8.78002 25.5058C13.0887 25.5058 16.5815 22.0127 16.5815 17.704V9.06174C16.5815 9.06174 17.7661 9.95209 19.3741 10.4546C20.9822 10.9573 22.4796 10.9484 22.4796 10.9484V6.7178C22.4796 6.7178 20.3049 6.91172 18.2987 4.99458Z" fill="#00525F"/>
          </svg>
        </div>
      </div>
    </a>
    <a
      href="//www.youtube.com/?url={{ permalinkURL }}"
      target="_blank"
      rel="noopener"
      aria-label="Share on Youtube"
    >
      <div class="sharing-button">
        <div aria-hidden="true" class="sharing-button__icon">
          <svg width="28" height="20" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M26.8691 4.4112C26.7339 2.63782 25.3103 1.23899 23.5349 1.1345C20.8621 0.97699 16.9393 0.783203 13.8186 0.783203C10.692 0.783203 6.76006 0.977765 4.08677 1.13543C2.31171 1.24007 0.890733 2.63952 0.752604 4.41244C0.615405 6.17342 0.478516 8.3877 0.478516 10.2126C0.478516 12.0334 0.614785 14.2419 0.751673 16.0009C0.889803 17.7763 2.31419 19.1774 4.0922 19.2782C6.90997 19.4377 11.0576 19.6421 13.8186 19.6421C16.5745 19.6421 20.712 19.4385 23.5295 19.279C25.3077 19.1784 26.7348 17.7778 26.87 16.002C27.0119 14.1382 27.1587 11.8213 27.1587 10.2126C27.1587 8.60056 27.0113 6.27713 26.8691 4.4112ZM11.1545 13.806V6.33651L18.1352 10.0713L11.1545 13.806Z" fill="#00525F"/>
          </svg>
        </div>
      </div>
    </a>
  {% endif %}

  {% if settings.share_twitter %}
    <a
      href="//twitter.com/share?url={{ permalinkURL }}&amp;text={{ shareTitle | escape }}"
      target="_blank"
      rel="noopener"
      aria-label="Share on Twitter"
    >
      <div class="sharing-button">
        <div aria-hidden="true" class="sharing-button__icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/>
          </svg>
        </div>
      </div>
    </a>
  {% endif %}

  {% if settings.share_pinterest and shareImage %}
    <a
      href="//pinterest.com/pin/create/button/?url={{ permalinkURL }}&amp;media={{ shareImage | escape }}&amp;description={{ product.title | escape }}"
      target="_blank"
      rel="noopener"
      aria-label="Share on Pinterest"
    >
      <div class="sharing-button">
        <div aria-hidden="true" class="sharing-button__icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M12.14.5C5.86.5 2.7 5 2.7 8.75c0 2.27.86 4.3 2.7 5.05.3.12.57 0 .66-.33l.27-1.06c.1-.32.06-.44-.2-.73-.52-.62-.86-1.44-.86-2.6 0-3.33 2.5-6.32 6.5-6.32 3.55 0 5.5 2.17 5.5 5.07 0 3.8-1.7 7.02-4.2 7.02-1.37 0-2.4-1.14-2.07-2.54.4-1.68 1.16-3.48 1.16-4.7 0-1.07-.58-1.98-1.78-1.98-1.4 0-2.55 1.47-2.55 3.42 0 1.25.43 2.1.43 2.1l-1.7 7.2c-.5 2.13-.08 4.75-.04 5 .02.17.22.2.3.1.14-.18 1.82-2.26 2.4-4.33.16-.58.93-3.63.93-3.63.45.88 1.8 1.65 3.22 1.65 4.25 0 7.13-3.87 7.13-9.05C20.5 4.15 17.18.5 12.14.5z"/>
          </svg>
        </div>
      </div>
    </a>
  {% endif %}
</div>
